---
- name: include provisionning variables
  include_vars:
    file: vars/main.yml
    name: prov

- name: include machines to create
  include_vars:
    file: vars/machines.yml
    name: machines

- name: prepare the connexion with aws
  include: tasks/preparation.yml
  vars:
    infos: "{{ prov }}"

- name: instanciate machines
  include: tasks/provide.yml
  vars:
    infos: "{{ prov }}"
    machine: "{{ item }}"
  loop: "{{ machines.list }}"
...